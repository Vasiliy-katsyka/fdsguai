
<!DOCTYPE html>
<html>
<head>
  <title>LobsterCoin</title>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      background-color: #f0f0f0;
      background: linear-gradient(0deg, #ffae00 63%, #000000 100%);
    }

    .container {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThRU2gtlFFlqN86x7rS6d7xnEmeE4ToeweAQ&s) center center/cover no-repeat;
      border-top: 2px solid #ffae00;
      border-radius: 40px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      text-align: center;
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    @media (min-width: 768px) {
      .container {
        width: 70%;
      }
    }

    @media (min-width: 1024px) {
      .container {
        width: 50%;
      }
    }

    .coin {
      width: 270px;
      height: 270px;
      border-radius: 50%;
      opacity: 100%;
      cursor: pointer;
      margin: 0 auto;
      margin-top: 60px;
      background: #ffcc00 url(https://github.com/Vasiliy-katsyka/fdsguai/blob/main/images/coin/coin-lobster.png?raw=true) center center/cover no-repeat;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      position: relative;
      margin-bottom: 10px;
    }

    .counter {
      font-size: 50px;
      margin-top: 20px;
      margin-bottom: 10px;
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: flex;
      align-items: center;
    }

    .button {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCWU8GKaQfO_YinjQUB4yWdl04yrIz_5xmyQ&s) center center/cover no-repeat;
      color: #000;
      padding: 10px 20px;
      align-items: center;
      margin-top: 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      margin: 10px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
    }

    .button:hover {
      background-color: #4b0082;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .coin:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .row-info {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCWU8GKaQfO_YinjQUB4yWdl04yrIz_5xmyQ&s) center center/cover no-repeat;
      height: 60px;
      width: 60%;
      color: #000;
      align-items: center;
      margin-top: 20px;
      border: none;
      border-radius: 15px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      margin: 10px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
    }

    .popup {
      position: fixed;
      border: 2px solid #ffae00;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThRU2gtlFFlqN86x7rS6d7xnEmeE4ToeweAQ&s) center center/cover no-repeat;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      display: none;
      z-index: 10;
    }

    .popup h2 {
      margin-top: 0;
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .upgrade {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .upgrade-cost {
      font-weight: bold;
      color: #800080;
    }

    .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: transparent;
      border: none;
      cursor: pointer;
      color: #800080;
    }

    .close-button:hover {
      color: red;
    }

    .upgrade-input {
      width: 50px;
      text-align: center;
      aria-label="Upgrade amount";
    }

    .clicks-per-tap {
      font-size: 20px;
      margin-bottom: 10px;
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .menu-container {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThRU2gtlFFlqN86x7rS6d7xnEmeE4ToeweAQ&s) center center/cover no-repeat;
      width: 100%;
      display: flex;
      position: fixed;
      bottom: 0;
      left: 0;
      align-items: center;
      padding: 10px;
      box-sizing: border-box;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      border-top: 2px solid #ffae00;
      justify-content: center;
    }

    .bottom-button {
      display: flex;
      flex-direction: column; /* Stack icon above text */
      align-items: center;
      padding: 5px;  /* Reduced padding */
      border-radius: 10px;
      cursor: pointer;
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQey1AD0yVXPo45q1sXCHOlrwSsgvCKpa78PQ&s) center center/cover no-repeat;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin: 5px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
      font-size: 10px; /* Smaller font size */
      width: 60px; /* Reduced width */
    }

    .bottom-button svg {
      width: 30px;
      height: 30px;
      margin-bottom: 5px; /* Add space between icon and text */
    }

    .menu-button {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      border-radius: 14px;
      cursor: pointer;
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQey1AD0yVXPo45q1sXCHOlrwSsgvCKpa78PQ&s) center center/cover no-repeat;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin: 5px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
      font-size: 13px;
    }

    /* Optional: Add some spacing between buttons */
    .menu-button + .menu-button {
      margin-left: 10px;
    }

    .earn-button {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      border: none;
      border-radius: 13px;
      cursor: pointer;
      background: #ffffff url(https://img.freepik.com/free-vector/gradient-grainy-gradient-background_23-2149922841.jpg) center center/cover no-repeat;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin: 5px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
    }

    .menu-button svg {
      width: 24px;
      height: 24px;
      margin-right: 10px;
    }

    .button svg {
      width: 24px;
      height: 24px;
      margin-right: 10px;
    }

    .menu-button:hover {
      background-color: #f0f0f0;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .click-text {
      position: absolute;
      top: 37%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      font-weight: bold;
      color: #800080;
      opacity: 1;
      transition: transform 0.3s ease, opacity 0.5s ease;
    }

    .click-text.fly-up {
      transform: translate(-50%, -150%);
      opacity: 0;
    }

    .counter img {
      margin-right: 10px;
    }

    .profit-per-hour {
      font-size: 20px;
      margin-bottom: 10px;
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .mining-card {
      border: 1px solid #000;
      padding: 10px;
      margin-bottom: 5px;
      margin-left: 10px;
      margin-right: 10px;
      border-radius: 15px;
      width: 120px;
      height: 120px;
      background: #ffffff url(https://images.unsplash.com/photo-1557683304-673a23048d34?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8Z3JhZGllbnQlMjBibHVlfGVufDB8fDB8fHww) center center/cover no-repeat;
    }

    .mining-card h3 {
      margin-top: 0;
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 20px;
      margin-buttom: 1px;
    }

    .mining-card .card-info {
      display: block; /* Change to block for single-column layout */
      text-align: left; /* Align text to the left */
    }

    .mining-card .card-info span {
      font-weight: bold;
      font-size: 13px;
      margin-buttom: 5px;
      display: block; /* Make each span a separate line */ /* Add spacing between lines */
    }

    .mining-card .card-info .card-level {
      font-size: 13px;
      color: #800080; /* Purple color */
    }

    .mining-card .card-info .card-price {
      font-size: 13px;
      color: #800080; /* Purple color */
    }

    .mining-card .buy-button {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCWU8GKaQfO_YinjQUB4yWdl04yrIz_5xmyQ&s) center center/cover no-repeat;
      color: #000;
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      margin: 5px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
    }

    .mining-card .buy-button:hover {
      background-color: #4b0082;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .mining-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .mining-button {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCWU8GKaQfO_YinjQUB4yWdl04yrIz_5xmyQ&s) center center/cover no-repeat;
      color: #000;
      padding: 10px 20px;
      align-items: center;
      margin-top: 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      margin: 10px;
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
    }

    .mining-button:hover {
      background-color: #4b0082;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .settings-button {
      background: #ffffff url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRa8b62mkAq4MojXucoZzKWMMSvV1ssekhM1Q&s) center center/cover no-repeat;
      border: none;
      border-radius: 50%;
      padding: 8px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      margin-right: 10px; 
      transition: background-color 0.2s ease, box-shadow 0.2s ease;
      display: flex; /* Align items within the button */
      align-items: center; /* Center vertically */
      justify-content: center; /* Center horizontally */
    }

    .settings-button:hover {
      background-color: #f0f0f0;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .settings-button svg {
      width: 20px; /* Adjust size as needed */
      height: 20px; /* Adjust size as needed */
    }

    /* Title container styles */
    .title-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 90%;
    }

    /* Title styles */
    .title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 20px;
      margin-top: 20px;
      text-align: left; /* Align title to the left */
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Settings popup styles */
    .settings-popup {
      /* ... Existing popup styles ... */
    }

    .settings-popup .menu-button {
      /* ... Existing menu-button styles ... */
      width: 100%;
      margin-bottom: 10px;
    }

    .settings-popup .legal-info {
      /* ... Existing popup styles ... */
      overflow-y: auto; /* Allow scrolling for longer text */
      max-height: 300px; /* Limit popup height */
      background: linear-gradient(to right, #FF00D8, #00FFF3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .gold-text {
       background: linear-gradient(to right, #FFD700, #FFC300, #FFAA00, #FFA500);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <div class="title-container">
    <button class="settings-button" onclick="openSettingsPopup()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>cog</title><path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" /></svg>
    </button>
    <div class="title">LobsterCoin</div>
    
  </div>

  <div class="container">
    <div class="counter">
      <img src="https://github.com/Vasiliy-katsyka/fdsguai/blob/main/images/coin/coin-lobster.png?raw=true" alt="Coin Texture" width="35" height="35">
      <span id="clickCount">0</span>
    </div>
    <div class="profit-per-hour">Profit per Hour: <span id="profitPerHour">0</span></div>
    <div class="clicks-per-tap">Clicks per Tap: <span id="clicksPerTap">1</span></div>
    <div class="coin"></div>
    <div class="click-text" id="clickText"></div>

  <div class="menu-container">
    <button class="bottom-button" onclick="openPopup()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>rocket-launch-outline</title><path d="M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M19.22 4C19.5 4 19.75 4 19.96 4.05C20.13 5.44 19.94 8.3 16.66 11.58C14.96 13.29 12.93 14.6 10.65 15.47L8.5 13.37C9.42 11.06 10.73 9.03 12.42 7.34C15.18 4.58 17.64 4 19.22 4M19.22 2C17.24 2 14.24 2.69 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.62 17.27 10.13 17.5 10.66 17.5C10.89 17.5 11.13 17.44 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39S20.7 2 19.22 2M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z" /></svg>
      Boosts
    </button>
    <button class="bottom-button" onclick="earnClick()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>bitcoin</title><path d="M14.24 10.56C13.93 11.8 12 11.17 11.4 11L11.95 8.82C12.57 9 14.56 9.26 14.24 10.56M11.13 12.12L10.53 14.53C11.27 14.72 13.56 15.45 13.9 14.09C14.26 12.67 11.87 12.3 11.13 12.12M21.7 14.42C20.36 19.78 14.94 23.04 9.58 21.7C4.22 20.36 .963 14.94 2.3 9.58C3.64 4.22 9.06 .964 14.42 2.3C19.77 3.64 23.03 9.06 21.7 14.42M14.21 8.05L14.66 6.25L13.56 6L13.12 7.73C12.83 7.66 12.54 7.59 12.24 7.53L12.68 5.76L11.59 5.5L11.14 7.29C10.9 7.23 10.66 7.18 10.44 7.12L10.44 7.12L8.93 6.74L8.63 7.91C8.63 7.91 9.45 8.1 9.43 8.11C9.88 8.22 9.96 8.5 9.94 8.75L8.71 13.68C8.66 13.82 8.5 14 8.21 13.95C8.22 13.96 7.41 13.75 7.41 13.75L6.87 15L8.29 15.36C8.56 15.43 8.82 15.5 9.08 15.56L8.62 17.38L9.72 17.66L10.17 15.85C10.47 15.93 10.76 16 11.04 16.08L10.59 17.87L11.69 18.15L12.15 16.33C14 16.68 15.42 16.54 16 14.85C16.5 13.5 16 12.7 15 12.19C15.72 12 16.26 11.55 16.41 10.57C16.61 9.24 15.59 8.53 14.21 8.05Z" /></svg>
      Earn
    </button>
    <button class="bottom-button" onclick="aboutClick()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>information-outline</title><path d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" /></svg>
      About
    </button>
    <button class="bottom-button" onclick="buyClick()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>currency-usd</title><path d="M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z" /></svg>
      Buy
    </button>
    <button class="bottom-button" onclick="openMiningPopup()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>minecraft</title><path d="M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M6,6V10H10V12H8V18H10V16H14V18H16V12H14V10H18V6H14V10H10V6H6Z" /></svg>Mining</button>
  </div>

  <div class="popup" id="popup">
    <button class="close-button" onclick="closePopup()">×</button>
    <h2>Upgrades</h2>
    <div class="upgrade">
      <span>Click Multiplier +1</span>
      <span class="upgrade-cost" id="upgradeCost1">Cost: 500 clicks</span>
    </div>
    <input type="number" class="upgrade-input" id="upgradeAmount" min="1" value="1" aria-label="Upgrade amount">
    <button class="button" onclick="upgradeClick()">Upgrade Clicks</button>
  </div>

  <div class="popup" id="earnPopup">
    <button class="close-button" onclick="closeEarnPopup()">×</button>
    <h2>Earn Clicks</h2>
    <button class="earn-button" onclick="openYouTube()">Subscribe YouTube | +5k</button>
    <button class="earn-button" onclick="subscribeTelegram()">Subscribe Telegram | +1k</button>
    <button class="earn-button" onclick="checkTelegramPremium()">Telegram Premium | +10k</button>
  </div>

  <div class="popup" id="miningPopup">
    <button class="close-button" onclick="closeMiningPopup()">×</button>
    <h2>Mining</h2>
    <div class="mining-container">
      <div class="mining-card">
        <h3>SEO</h3>
        <div class="card-info">
          <span>Profit/hour: <a class="gold-text">+30 clicks</a></span>
          <span class="card-price" id="seoPrice">Price: 500 clicks</span>
          <span class="card-level" id="seoLevel">Level: 0</span>
        </div>
        <button class="buy-button" onclick="buyCard('seo')">Buy</button>
      </div>
      <div class="mining-card">
        <h3>Influencers</h3>
        <div class="card-info">
          <span>Profit/hour: <a class="gold-text">+60 clicks</a></span>
          <span class="card-price" id="influencerPrice">Price: 600 clicks</span>
          <span class="card-level" id="influencerLevel">Level: 0</span>
        </div>
        <button class="buy-button" onclick="buyCard('influencer')">Buy</button>
      </div>
    </div>
    <div class="mining-container">
      <div class="mining-card">
        <h3>Miners</h3>
        <div class="card-info">
          <span>Profit/hour: <a class="gold-text">+100 clicks</a></span>
          <span class="card-price" id="minerPrice">Price: 800 clicks</span>
          <span class="card-level" id="minerLevel">Level: 0</span>
        </div>
        <button class="buy-button" onclick="buyCard('miner')">Buy</button>
      </div>
      <div class="mining-card">
        <h3>Stacking</h3>
        <div class="card-info">
          <span>Profit/hour: <a class="gold-text">+300 clicks</a></span>
          <span class="card-price" id="stackingPrice">Price: 1000 clicks</span>
          <span class="card-level" id="stackingLevel">Level: 0</span>
        </div>
        <button class="buy-button" onclick="buyCard('stacking')">Buy</button>
      </div>
    </div>
    <div class="mining-container">
      <div class="mining-card">
        <h3>BTC Pairs</h3>
        <div class="card-info">
          <span>Profit/hour: <a class="gold-text">+900 clicks</a></span>
          <span class="card-price" id="btcPrice">Price: 8000 clicks</span>
          <span class="card-level" id="btcLevel">Level: 0</span>
        </div>
        <button class="buy-button" onclick="buyCard('btc')">Buy</button>
      </div>
      <div class="mining-card">
        <h3>ETH Pairs</h3>
        <div class="card-info">
          <span>Profit/hour: <a class="gold-text">+1000 clicks</a></span>
          <span class="card-price" id="ethPrice">Price: 10000 clicks</span>
          <span class="card-level" id="ethLevel">Level: 0</span>
        </div>
        <button class="buy-button" onclick="buyCard('eth')">Buy</button>
      </div>
    </div>
  </div>

  <div class="popup settings-popup" id="settingsPopup">
    <button class="close-button" onclick="closeSettingsPopup()">×</button>
    <h2>Settings</h2>
    <button class="menu-button" onclick="confirmClearData()">Clear Data</button>
    <button class="menu-button" onclick="openLegalInfoPopup()">Legal Info</button>
  </div>

  <div class="popup" id="legalInfoPopup">
    <button class="close-button" onclick="closeLegalInfoPopup()">×</button>
    <h2>Legal Information</h2>
    <div class="legal-info">
      <!-- Add your legal information text here -->
      <p>By using LobsterCoin, you agree to our <a href="https://www.e-droid.net/privacy.php?ida=2257006&idl=en">Terms of Service</a>, which govern your access and use of the game and all related content. Please review our <a href="https://www.e-droid.net/privacy.php?ida=2257006&idl=en">full Terms of Service</a> for more information.</p>
    </div>
  </div>


  <script>
    let clickCount = 0;
    let clickMultiplier = 1;
    let upgradeCosts = [500, 1500, 5000];
    let upgradeLevel = [0, 0, 0];

    // Mining card data
    const miningCards = {
      seo: {
        profitPerHour: 30,
        price: 500,
        level: 0
      },
      influencer: {
        profitPerHour: 60,
        price: 600,
        level: 0
      },
      miner: {
        profitPerHour: 100,
        price: 800,
        level: 0
      },
      stacking: {
        profitPerHour: 300,
        price: 1000,
        level: 0
      },
      btc: {
        profitPerHour: 900,
        price: 8000,
        level: 0
      },
      eth: {
        profitPerHour: 1000,
        price: 10000,
        level: 0
      }
    };

    // Load data from localStorage
    if (localStorage.getItem('clickCount')) {
      clickCount = parseInt(localStorage.getItem('clickCount'));
    }
    if (localStorage.getItem('clickMultiplier')) {
      clickMultiplier = parseInt(localStorage.getItem('clickMultiplier'));
    }
    if (localStorage.getItem('upgradeLevel')) {
      upgradeLevel = JSON.parse(localStorage.getItem('upgradeLevel'));
    }
    if (localStorage.getItem('upgradeCosts')) {
      upgradeCosts = JSON.parse(localStorage.getItem('upgradeCosts'));
    }
    // Load mining card levels from localStorage
    for (const cardType in miningCards) {
      if (localStorage.getItem(`miningCardLevel${cardType}`)) {
        miningCards[cardType].level = parseInt(localStorage.getItem(`miningCardLevel${cardType}`));
      }
    }

    // Update click count display
    function updateClickCount() {
      document.getElementById('clickCount').textContent = clickCount;
      document.getElementById('clicksPerTap').textContent = clickMultiplier;
      // Save data to localStorage
      localStorage.setItem('clickCount', clickCount);
      localStorage.setItem('clickMultiplier', clickMultiplier);
      localStorage.setItem('upgradeLevel', JSON.stringify(upgradeLevel));
      localStorage.setItem('upgradeCosts', JSON.stringify(upgradeCosts));
    }

    // Telegram bot token
    const botToken = '6568335627:AAGnVt9FTbsLu-DB_W8ppxtiwwWX-uy_oHw';

    // Function to create an invoice link
    function createInvoiceLink(clicks) {
      const prices = [
        {
          label: `${clicks} Clicks`,
          amount: getStarsPrice(clicks) // Function to get stars price based on clicks
        }
      ];

      return Telegram.WebApp.createInvoiceLink({
        title: "LobsterCoin Clicks",
        description: `Purchase ${clicks} clicks for your LobsterCoin game!`,
        payload: "clicks_purchase", // Your custom payload
        currency: "XTR", // Telegram Stars currency
        prices: prices,
        provider_token: '' // Empty string for Telegram Stars payments
      });
    }

    // Function to get the stars price based on the number of clicks
    function getStarsPrice(clicks) {
      if (clicks >= 1000000000) {
        return 1000;
      } else if (clicks >= 100000000) {
        return 300;
      } else if (clicks >= 10000000) {
        return 150;
      } else if (clicks >= 1000000) {
        return 80;
      } else if (clicks >= 100000) {
        return 10;
      } else if (clicks >= 10000) {
        return 1;
      } else {
        return 0; // Or throw an error if you don't want to allow purchases of less than 10k clicks
      }
    }

    // Function to handle "Buy" button click
    function buyClick() {
      // Prompt the user for the desired number of clicks
      let desiredClicks = prompt("Enter the number of clicks you want to buy:");
      if (desiredClicks !== null) {
        // Validate input (ensure it's a number)
        if (!isNaN(desiredClicks) && desiredClicks > 0) {
          // Create the invoice link
          const invoiceLink = createInvoiceLink(desiredClicks);

          // Open the invoice link in a new window
          window.open(invoiceLink);
        } else {
          alert("Please enter a valid number of clicks.");
        }
      }
    }

    // Function to add purchased clicks to the counter (called after successful payment)
    function addPurchasedClicks(clicks) {
      clickCount += clicks;
      updateClickCount();
      alert(`You successfully purchased ${clicks} clicks!`);
    }
    
    Telegram.WebApp.onEvent('paymentSuccess', (data) => {
      // Get the purchased clicks from the payment data
      // Assuming the purchased clicks are stored in the `payload` field
      const purchasedClicks = parseInt(data.payload);
      addPurchasedClicks(purchasedClicks);
    });

    // Function to handle coin click
    function clickCoin() {
      clickCount += clickMultiplier;
      updateClickCount();
      showClickText(clickMultiplier);
    }

    // Function to open the popup
    function openPopup() {
      document.getElementById('popup').style.display = 'block';
      updateUpgradeCosts();
    }

    // Function to close the popup
    function closePopup() {
      document.getElementById('popup').style.display = 'none';
    }

    // Function to handle click upgrade
    function upgradeClick() {
      let upgradeAmount = parseInt(document.getElementById('upgradeAmount').value);
      let upgradeIndex = 0;

      while (upgradeIndex < upgradeCosts.length) {
        if (clickCount >= upgradeCosts[upgradeIndex] * upgradeAmount) {
          clickCount -= upgradeCosts[upgradeIndex] * upgradeAmount;
          clickMultiplier += (upgradeIndex + 1) * upgradeAmount;
          upgradeLevel[upgradeIndex] += upgradeAmount;
          updateClickCount();
          updateUpgradeCosts();
          break;
        }
        upgradeIndex++;
      }
    }

    // Function to update upgrade costs
    function updateUpgradeCosts() {
      for (let i = 0; i < upgradeCosts.length; i++) {
        upgradeCosts[i] = 500 + (upgradeLevel[i] * 200);
        document.getElementById(`upgradeCost${i + 1}`).textContent = 'Cost: ' + upgradeCosts[i] + ' clicks';
      }
    }

    // Function for "Mining" button
    function miningClick() {
      alert("Mining feature is under development!");
    }

    // Function to open the earn popup
    function earnClick() {
      document.getElementById('earnPopup').style.display = 'block';
    }

    // Function to close the earn popup
    function closeEarnPopup() {
      document.getElementById('earnPopup').style.display = 'none';
    }

    function openSettingsPopup() {
      document.getElementById('settingsPopup').style.display = 'block';
    }

    // Function to close the settings popup
    function closeSettingsPopup() {
      document.getElementById('settingsPopup').style.display = 'none';
    }

    // Function to confirm data clearing
    function confirmClearData() {
      if (confirm("Do you really want to completely delete your data?")) {
        if (confirm("Are you 100% sure?")) {
          // Clear localStorage *before* updating the counter
          localStorage.clear();

          // Reset game variables
          clickCount = 0; 
          clickMultiplier = 1;
          upgradeLevel = [0, 0, 0]; 
          upgradeCosts = [500, 1500, 5000];

          // Reset mining card levels
          for (const cardType in miningCards) {
            miningCards[cardType].level = 0;
          }

          // Update the display and save to localStorage
          updateClickCount();
          updateUpgradeCosts();
          updateMiningCardPrices();
          updateMiningCardLevels();
          alert("Data cleared successfully!");
        }
      }
    }

    // Function to open the legal info popup
    function openLegalInfoPopup() {
      document.getElementById('legalInfoPopup').style.display = 'block';
    }

    // Function to close the legal info popup
    function closeLegalInfoPopup() {
      document.getElementById('legalInfoPopup').style.display = 'none';
    }

    // Function to open the YouTube channel
    function openYouTube() {
      window.open("https://youtube.com/@kvikontent");
      clickCount += 5000;
      updateClickCount();
      alert("You earned 5,000 clicks! Thanks for subscribing!");
      closeEarnPopup(); // Close the popup after opening the link
    }

    // Function to subscribe to the Telegram channel
    function subscribeTelegram() {
      window.open("https://t.me/freemusic2023");
      clickCount += 1000;
      updateClickCount();
      alert("You earned 1,000 clicks! Thanks for subscribing!");
      closeEarnPopup(); // Close the popup after opening the link
    }

    // Replace Telegram Premium with a 'Buy Premium' button
    function buyPremium() {
      alert("Not implemented yet");
    }

    // Function for "About" button
    function aboutClick() {
      window.open("https://t.me/LobsterCoinAnnouncements");
    }

    // Function to show click text above the coin
    function showClickText(clicks) {
      let clickText = document.getElementById('clickText');
      clickText.textContent = `+${clicks}`;
      clickText.classList.remove('fly-up');

      setTimeout(() => {
        clickText.classList.add('fly-up');
      }, 100);
    }

    // Function to open the Mining popup
    function openMiningPopup() {
      document.getElementById('miningPopup').style.display = 'block';
      updateMiningCardPrices(); // Update card prices when popup opens
    }

    // Function to close the Mining popup
    function closeMiningPopup() {
      document.getElementById('miningPopup').style.display = 'none';
    }

    // Function to update mining card prices
    function updateMiningCardPrices() {
      for (const cardType in miningCards) {
        let price = miningCards[cardType].price * (1 + 0.35 * miningCards[cardType].level);
        document.getElementById(`${cardType}Price`).textContent = `$${price} clicks`;
      }
    }

    // Function to buy a mining card
    function buyCard(cardType) {
      if (clickCount >= miningCards[cardType].price) {
        clickCount -= miningCards[cardType].price;
        miningCards[cardType].level++;
        updateClickCount();
        updateMiningCardPrices();
        updateMiningCardLevels();
        alert(`You purchased a ${cardType} card!`);
      } else {
        alert("You don't have enough clicks to purchase this card!");
      }
    }

    // Function to update mining card levels in the UI and localStorage
    function updateMiningCardLevels() {
      for (const cardType in miningCards) {
        document.getElementById(`${cardType}Level`).textContent = `Level: ${miningCards[cardType].level}`;
        localStorage.setItem(`miningCardLevel${cardType}`, miningCards[cardType].level);
      }
    }

    // Function to calculate and update profit per hour
    function updateProfitPerHour() {
      let totalProfit = 0;
      for (const cardType in miningCards) {
        totalProfit += miningCards[cardType].profitPerHour * miningCards[cardType].level;
      }
      document.getElementById('profitPerHour').textContent = totalProfit;
    }

    // Function to add "earn per hour" to click count
    function addEarnPerHour() {
      let profitPerHour = parseInt(document.getElementById('profitPerHour').textContent);
      let earnEverySecond = Math.round(profitPerHour / 3600); // Earn clicks every second
      clickCount += earnEverySecond;
      updateClickCount();
    }

    // Calculate and update profit per hour on page load
    updateProfitPerHour();

    // Store the last time the page was updated in localStorage
    let lastUpdateTime = new Date().getTime();
    if (localStorage.getItem('lastUpdateTime')) {
      lastUpdateTime = parseInt(localStorage.getItem('lastUpdateTime'));
    }

    // Calculate and add earned clicks on page load
    let elapsedTime = new Date().getTime() - lastUpdateTime;
    addEarnPerHour(elapsedTime); // Add earned clicks based on elapsed time

    // Update click count every second
    setInterval(addEarnPerHour, 1000);

    // Update localStorage with the current time on page load
    localStorage.setItem('lastUpdateTime', new Date().getTime());

    // Add event listener to the coin for mobile
    const coin = document.querySelector('.coin');
    coin.addEventListener('click', clickCoin);

    // Initialize the game
    updateClickCount();
    updateProfitPerHour();

    // Update click count every 20 seconds for "earn per hour"
    setInterval(addEarnPerHour, 1000); // Call addEarnPerHour every 20000 milliseconds (20 seconds)
  </script>
</body>
</html>
